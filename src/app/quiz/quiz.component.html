<app-navbar></app-navbar>

<form [formGroup]="quizForm">
<div class="questions">
  <span *ngFor="let movie of questions; let i = index">
    <div class=" col-1g-2"></div>
      <div class="col-lg-12">
        <mat-card class="quest-card">
            <span class="title center">
              <span>
                {{movie.id}}.
              </span>
                {{ movie.title }}
            </span>
        </mat-card>
        </div>
        <div class="col-lg-12  title-quest">
          <mat-card>
          <mat-card-content class="select-opt">
            <div >
                <mat-form-field>
                    <mat-label>Options</mat-label>
                    <mat-select [id] = "i" formControlName="correctanswer" name="option" (selectionChange)="selanswer($event,i,movie.id)">
                          <mat-option *ngFor="let option of movie?.options; let i = index" [value]="option.iscorrectans">
                            {{option?.value}}
                          </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    <div class="col-1g-2"></div>
  </span>
</div>
<div *ngIf="isValidFormSubmitted">
  <mat-card class="custom-card">
      <mat-error  >
         *Please  answer all the questions
      </mat-error>
  </mat-card>
</div>
<div class="button">
      <button type="submit" mat-raised-button [disabled]=!disablebtn (click)="onSubmit()">Submit</button>
    <button type="button" mat-raised-button (click)="resetForm()" >Clear</button>
</div>
</form>

<div id="chart" class="modal fade" role="dialog">
  <div class="modal-dialog modal-xl">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title">Result</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    
      </div>
      <div class="modal-body">
          <canvas id="barChart"></canvas>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>